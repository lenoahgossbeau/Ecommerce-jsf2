<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"> 
	
    <h:head>
   
        <meta charset="utf-8" />
        <title>Liste des commandes existantes</title>
        <h:outputStylesheet library="default" name="css/ecommerce.css" />
    </h:head>
    <h:body>
    <h:form id="menuForm">
  
                        <ui:include src ="/inc/menu.xhtml"  />
                   
   
   </h:form>
      
       <fieldset> <h1 align="center">Liste des commandes enregistrées</h1></fieldset>
       
        <div id="corps">
        
            <h:form id="multiOrder">
            <!-- <p:accordionPanel value="#{commandeListBean.commandes}" var="commande"

                        cellspacing="4" width="60%" rowClasses="paire,impaire" headerClass="titre"/>-->
            <p:outputLabel styleClass="erreur" rendered="#{ empty commandeListBean.commandes }" value="Aucune commande enregistrée."/>
               
            <p:dataTable id="checkboxDT"  value="#{ commandeListBean.commandes }" 
 var="order" 
 selection="#{commandeListBean.orderSelected}"   
 rendered="#{! empty commandeListBean.commandes }"
 emptyMessage="Aucune commande disponible"
 rows="10"
 rowKey="#{order.id}"
 paginatorPosition="bottom"
 paginatorAlwaysVisible="false"
 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
 paginator="true" 
 style="margin-bottom:20px"
 >
 <f:facet name="{Exporters}">
           
            <h:commandLink>
            
                <p:graphicImage value ="/images/icons/pdf.png" width="24"/>
                <p:dataExporter type="pdf" target="checkboxDT" fileName="commandes"/>
            </h:commandLink>
 
            <h:commandLink>
                <p:graphicImage value ="/images/icons/xml.png" width="24"/>
                <p:dataExporter type="xml" target="checkboxDT" fileName="commandes" />
            </h:commandLink>
        </f:facet>
            <p:column style="width: 30px; text-align: center" filterBy="#{order.customer.nom}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Client" /></f:facet><h:outputText value="#{order.customer.prenom}  #{order.customer.nom}" />     </p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.designation}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Designation" /></f:facet><h:outputText value="#{order.designation}" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.date}" filterMatchMode="contains" >
            <f:facet name="header"><h:outputText value="Date" /></f:facet><h:outputText value="#{order.date}" /></p:column>
           
           
            <p:column style="width: 30px; text-align: center" filterBy="#{order.modePaiement}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Mode Paiement" /></f:facet><h:outputText value="#{order.modePaiement}" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.statutPaiement}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Statut Paiement" /></f:facet><h:outputText value="#{order.statutPaiement}" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.modeLivraison}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Mode Livraison" /></f:facet><h:outputText value="#{order.modeLivraison}" /></p:column>
            
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.statutLivraison}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Statut Livraison" /></f:facet><h:outputText value="#{order.statutLivraison}" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.quantité}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Quantité" /></f:facet><h:outputText value="#{order.quantité}" /></p:column>
            
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.montant}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Montant Commande" /></f:facet><h:outputText value="#{order.montant} FCFA" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.amount_deposit}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Montant Versé" /></f:facet><h:outputText value="#{order.buy.amount_deposit} FCFA" /></p:column>
            
            <p:column style="width: 30px; text-align: center" filterBy="#{order.buy.remaining}" filterMatchMode="contains">
            <f:facet name="header"><h:outputText value="Montant Credit" /></f:facet><h:outputText value="#{order.buy.remaining} FCFA" /></p:column>
            
              <p:column style="width: 30px; text-align: center"><f:facet name="header"></f:facet> 
            <p:commandButton  action="#{commandeListBean.detail(order)}" value="Detail" />
             </p:column>   
               <p:column style="width: 30px; text-align: center" rendered="#{configurationBean.admin}"><f:facet name="header"></f:facet> 
            <p:commandButton  action="#{commandeListBean.supprimer(order)}" value="Supprimer" rendered="#{ commandeListBean.commandPage}" />
            </p:column>                                     
             <p:column selectionMode="multiple" style="width:16px;text-align:center"> 
           <f:facet name="header">Selection </f:facet>
          
          </p:column>
            
	          <f:facet name="footer">
            <!--<p:commandButton process="checkboxDT" update=":form:multiOrder" icon="ui-icon-search" value="" oncomplete="PF('multiCarDialog').show()" />-->
        </f:facet>
            </p:dataTable>
 
                       
       </h:form> 
        </div>
        <div id="footer">
        
          Copyright © 2018 I.T. Africa Consulting. All Rights Reserved. I.T. Africa Consulting
          </div>
    </h:body>
</html>