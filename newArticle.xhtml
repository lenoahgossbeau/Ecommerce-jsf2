<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	 xmlns:p="http://primefaces.org/ui"> 
    <h:head>
        <meta charset ="utf-8" />
        <title> Article </title>
        <h:outputStylesheet library="default" name="css/ecommerce.css"  />
        <f:loadBundle basename="cm.itac.formation.ecommerce.bundle.messages_it" var="msg"/> 
    </h:head>
    <h:body>
       
   <h:form id="menuForm">
  
                        <ui:include src ="/inc/menu.xhtml"  />
                       
   
   </h:form>
   
    <fieldset> <h1 align="center">Création d'un nouvel article</h1></fieldset>
            <h:form id="article">
             <fieldset>
                    <legend>Choix du fournisseur</legend>
     				
                        
             <div id="ancienFournisseur">
                    
                     <p:outputLabel for="listeFournisseurs" value="Selectioner le Fournisseur" />
        <p:selectOneMenu id="listeFournisseurs" value="#{articlesBean.codeFournisseur}" style="width:125px">
             <f:selectItems value = "#{ fournisseurBean.fournisseurs.entrySet()}"  var ="fournisseur" 
                             filterBy="#{column.property}"
                             itemValue="#{fournisseur.key}" itemLabel="#{fournisseur.value.nom1}" />   
        </p:selectOneMenu>
                   <!--     <h:selectOneListbox  value="#{ articlesBean.codeFournisseur }"
                        required="true" requiredMessage="vous devez choisir un fournisseur"
                          name="listeFournisseurs" id="listeFournisseurs"  filterBy="#{fournisseur.id}"
                          filterMatchMode="contains">
                         <f:selectItems value = "#{ fournisseurBean.fournisseurs.entrySet()}"  var ="fournisseur" 
                             filterBy="#{column.property}"
                             itemValue="#{fournisseur.key}" itemLabel="#{fournisseur.value.nom1}" />  
                           
                        
                        </h:selectOneListbox>-->
        
             </div>   
         </fieldset>
          <fieldset>
                    <legend>Choix du type de l'article</legend>
     				
                        
             <div id="Type_Article">
                       <p:outputLabel for="listeType_Articles" value="Selectioner le Type article" />
        <p:selectOneMenu id="listeType_Articles" value="#{articlesBean.codeType_Article}" style="width:125px">
             <f:selectItems value = "#{ type_ArticleBean.type_Articles.entrySet()}"  var ="type_Article" 
                          filterBy="#{column.property}"
                             itemValue="#{type_Article.key}" itemLabel="#{type_Article.value.type}" />
        </p:selectOneMenu>
                      <!--<h:selectOneListbox  value="#{ articlesBean.codeType_Article }"
                        required="true" requiredMessage="vous devez choisir un type d'article"
                          name="listeType_Articles" id="listeType_Articles"  filterBy="#{type_Article.id}"
                          filterMatchMode="contains">
                         <f:selectItems value = "#{ type_ArticleBean.type_Articles.entrySet()}"  var ="type_Article" 
                          filterBy="#{column.property}"
                             itemValue="#{type_Article.key}" itemLabel="#{type_Article.value.type}" />  
                           
                        
                        </h:selectOneListbox>-->
        
                                              
             </div>   
         </fieldset>
          <fieldset>
                    <legend>Nouvel Article</legend>
                         <p:outputLabel for="codeArticle"> Code </p:outputLabel>
                              <p:inputText id="codeArticle"  value= "#{articlesBean.article.code}" required="" size="30" maxlength="30" />
                              <p:message id="codeMessage" for="codeArticle" errorClass="erreur" label="CodeArticle" requiredMessage="#{msg['article.codeArticle']}" />	        

                        <br />
                         <p:outputLabel for="nomArticle"> Nom </p:outputLabel>
                              <p:inputText id="nomArticle"  value= "#{articlesBean.article.nom}" required="" size="30" maxlength="30" />
                              <p:message id="nomMessage" for="nomArticle" errorClass="erreur" label="NomArticle" requiredMessage="#{msg['article.nomArticle']}" />	        

                       <br />
                         <p:outputLabel for="descriptionArticle"> Description </p:outputLabel>
                               <p:inputText id="descriptionArticle"  value= "#{articlesBean.article.description}" required="" size="30" maxlength="30" />
                               <p:message id="descriptionMessage" for="descriptionArticle" errorClass="erreur" label="DescriptionArticle" requiredMessage="#{msg['article.descriptionArticle']}" />	        

                        <br />
                        
                        <p:outputLabel for="prixAchatArticle"> Prix d'achat </p:outputLabel>
                                <p:inputText id="prixAchatArticle"  value= "#{articlesBean.article.prixAchat}"  size="30" maxlength="30" /> FCFA
                                <p:message id="prixAchatMessage" for="prixAchatArticle" errorClass="erreur" label="PrixAchatArticle" requiredMessage="#{msg['article.prixAchatArticle']}" />	        
                        <br />
                        
                          <p:outputLabel for="prixArticle" > Prix </p:outputLabel>
                                <p:inputText id="prixArticle"  value= "#{articlesBean.article.prix}"  size="30" maxlength="30" /> FCFA
                                <p:message id="prixMessage" for="prixArticle" errorClass="erreur" label="PrixArticle" requiredMessage="#{msg['article.prixArticle']}" />	        
                        
                        <br />

                          <p:outputLabel for="disponibleArticle"> Disponibilite </p:outputLabel>
                                <p:inputText id="disponibleArticle"  value= "#{articlesBean.article.disponible}" required="" size="30" maxlength="30" />
                                <p:message id="disponibleMessage" for="disponibleArticle" errorClass="erreur" label="DisponibleArticle" requiredMessage="#{msg['article.disponibleArticle']}" />	        
                        <br />
                                 <p:messages globalOnly="true" infoClass="info" />
                                    <h:commandButton value="Valider" action="#{articlesBean.creerArticle}" />
                                   
                                     <p:commandButton id="btn_reset" value="Reset" type="reset"/>
               
                        <br/>
                </fieldset>
              
                       
            </h:form>
              <script>
        	jQuery(document).ready(function(){
        		/* 1 - Au lancement de la page, on cache le bloc d'éléments du formulaire correspondant aux fournisseurs existants */
        		#("div#ancienFournisseur").hide();
        		/* 2 - Au clic sur un des deux boutons radio "choixNouveauFournisseur", on affiche le bloc d'éléments correspondant (nouveau ou ancien fournisseur) */
                jQuery('input[name=choixNouveauFournisseur]:radio').click(function(){
                	#("div#nouveauFournisseur").hide();
                	#("div#ancienFournisseur").hide();
                    var divId = jQuery(this).val();
                    #("div#"+divId).show();
                });
            });
        </script>	
        <div id="footer">
        
          Copyright © 2018 I.T. Africa Consulting. All Rights Reserved. I.T. Africa Consulting
          </div>
    </h:body>
</html>